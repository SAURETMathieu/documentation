"use strict";(self.webpackChunksauret_doc=self.webpackChunksauret_doc||[]).push([[5584],{3066:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>m,default:()=>b,frontMatter:()=>r,metadata:()=>u,toc:()=>h});var a=n(5893),l=n(1151),s=n(7294);const i="container_vVbP";const o=function(e){let{filteredDatas:t}=e;const[n,l]=(0,s.useState)(null);return t.length?(0,a.jsx)("div",{className:i,children:(0,a.jsxs)("table",{className:"",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:Object.keys(t[0]).map((e=>(0,a.jsx)("th",{className:"",children:e},e)))})}),(0,a.jsx)("tbody",{children:t.map((e=>(0,a.jsx)("tr",{onClick:()=>{return t=e.id,void l(t);var t},className:n===e.id?"is-selected":"",children:Object.keys(e).map((t=>(0,a.jsx)("td",{children:e[t]},t)))},e.id)))})]})}):(0,a.jsx)("p",{children:"Aucunes donn\xe9es."})},d=JSON.parse('[{"id":1,"lastname":"Dupont","firstname":"Jean","city":"Paris","address":"123 Rue de la Libert\xe9","age":35},{"id":2,"lastname":"Smith","firstname":"Emma","city":"New York","address":"456 Elm Street","age":28},{"id":3,"lastname":"Garcia","firstname":"Juan","city":"Madrid","address":"789 Calle Principal","age":42},{"id":4,"lastname":"Kim","firstname":"Sohee","city":"Seoul","address":"1010 Gangnam-gu","age":31}]');function c(){const[e,t]=(0,s.useState)(d),[n,l]=(0,s.useState)(JSON.stringify(d,null,2)),[i,c]=(0,s.useState)("Tableau g\xe9n\xe9r\xe9 avec succ\xe8s"),r=(0,s.useRef)(null);return(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{children:"Entrez vos donn\xe9es au format JSON ici:"}),(0,a.jsx)("textarea",{ref:r,rows:"4",cols:"50",placeholder:"Vos donn\xe9es au format json",value:n,onChange:e=>{l(e.target.value)},onKeyDown:e=>{if("Tab"===e.key){e.preventDefault();const{selectionStart:t,selectionEnd:n}=e.target,{value:a}=e.target,s=`${a.substring(0,t)}  ${a.substring(n)}`;l(s),setTimeout((()=>{r.current.focus(),r.current.setSelectionRange(t+1,t+1)}),0)}},style:{width:"100%",height:"400px",maxHeight:"800px",maxWidth:"100%"}}),(0,a.jsx)("button",{type:"button","aria-label":"valider les donn\xe9es Json",onClick:()=>{try{const e=JSON.parse(n);t(e)}catch(e){c("Erreur lors de la conversion JSON")}},children:"Valider"}),(0,a.jsx)("span",{className:"",children:i}),(0,a.jsx)("h3",{children:"Tableau g\xe9n\xe9r\xe9"}),(0,a.jsx)(o,{filteredDatas:e})]})}const r={id:"template-table",title:"Template Back office Table",sidebar_label:"Template de tableau Back-office"},m=void 0,u={id:"react/templates/template-table",title:"Template Back office Table",description:"Composant template du tableau",source:"@site/docs/react/templates/backOfficeTable.mdx",sourceDirName:"react/templates",slug:"/react/templates/template-table",permalink:"/docs/react/templates/template-table",draft:!1,unlisted:!1,editUrl:"https://github.com/SAURETMathieu/docs/react/templates/backOfficeTable.mdx",tags:[],version:"current",frontMatter:{id:"template-table",title:"Template Back office Table",sidebar_label:"Template de tableau Back-office"},sidebar:"reactSidebar",previous:{title:"Template de formulaire dynamique",permalink:"/docs/react/templates/template-auto-form"}},p={},h=[{value:"Composant template du tableau",id:"composant-template-du-tableau",level:2},{value:"Fonctions handle",id:"fonctions-handle",level:2},{value:"Exemple d&#39;utilisation",id:"exemple-dutilisation",level:2}];function f(e){const t={code:"code",h2:"h2",pre:"pre",...(0,l.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"composant-template-du-tableau",children:"Composant template du tableau"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-jsx",children:'import { useState } from "react";\nimport { FontAwesomeIcon } from "@fortawesome/react-fontawesome";\nimport { faTrashCan, faPen } from "@fortawesome/free-solid-svg-icons";\nimport styles from "./AdminTable.module.css";\nimport DeleteModal from "../Modal/Delete";\nimport fetchData from "../../../services/api/call.api";\n\nfunction AdminTable({\n  filteredDatas,\n  handleDataDelete,\n  handleOpenUpdateModal,\n  route,\n}) {\n  const [selectedRow, setSelectedRow] = useState(null);\n  const [isDeleteModalVisible, setIsDeleteModalVisible] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n\n  if (filteredDatas.length) {\n    return (\n      <input>\n        <div className={styles.container}>\n          <table className="table is-bordered is-hoverable is-fullwidth">\n            <thead>\n              <tr>\n                {Object.keys(filteredDatas[0]).map((columnName) => (\n                  <th\n                    className="has-text-centered has-text-white"\n                    key={columnName}\n                  >\n                    {columnName}\n                  </th>\n                ))}\n                <th className="has-text-centered has-text-white">Modifier</th>\n                <th className="has-text-centered has-text-white">Supprimer</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredDatas.map((data) => (\n                <tr\n                  key={data.id}\n                  onClick={() => handleRowClick(data.id)}\n                  className={selectedRow === data.id ? "is-selected" : ""}\n                >\n                  {Object.keys(data).map((columnName) => (\n                    <td key={columnName}>{data[columnName]}</td>\n                  ))}\n\n                  <td>\n                    <button\n                      className="is-danger"\n                      type="button"\n                      onClick={() => handleOpenUpdateModal(data)}\n                      aria-label="update"\n                    >\n                      <FontAwesomeIcon icon={faPen} />\n                    </button>\n                  </td>\n                  <td>\n                    <button\n                      type="button"\n                      onClick={() => handleOpenDeleteModal(data)}\n                      aria-label="delete"\n                    >\n                      <FontAwesomeIcon icon={faTrashCan} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {isDeleteModalVisible && (\n          <DeleteModal\n            handleClose={handleCloseDeleteModal}\n            handleConfirm={handleConfirmDelete}\n            item={selectedItem}\n            mode="delete"\n          />\n        )}\n      </>\n    );\n  }\n  return <p>Aucunes donn\xe9es.</p>;\n}\n\nexport default AdminTable;\n'})}),"\n",(0,a.jsx)(t.h2,{id:"fonctions-handle",children:"Fonctions handle"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-jsx",children:'const handleRowClick = (index) => {\n  setSelectedRow(index);\n};\n\nconst handleOpenDeleteModal = (item) => {\n  setIsDeleteModalVisible(true);\n  setSelectedItem(item);\n};\n\nconst handleCloseDeleteModal = () => {\n  setIsDeleteModalVisible(false);\n  setSelectedItem(null);\n};\n\nconst deleteElement = async () => {\n  const isDelete = await fetchData(\n    "DELETE",\n    `${route}/${selectedItem.id}`,\n    null,\n    true\n  );\n  return isDelete;\n};\n\nconst handleConfirmDelete = async () => {\n  const isDelete = await deleteElement();\n\n  if (isDelete) {\n    handleDataDelete(selectedItem.id);\n    setIsDeleteModalVisible(false);\n    setSelectedItem(null);\n  }\n};\n'})}),"\n",(0,a.jsx)(t.h2,{id:"exemple-dutilisation",children:"Exemple d'utilisation"}),"\n","\n",(0,a.jsx)(c,{})]})}function b(e={}){const{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(f,{...e})}):f(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>i});var a=n(7294);const l={},s=a.createContext(l);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);